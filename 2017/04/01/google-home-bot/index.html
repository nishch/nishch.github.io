<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="The idea of having a bot, who listens, understands and responds to your commands, is very intriguing. How about creating one yourself? It might sound daunting at first but it’s not that difficult in r">
<meta property="og:type" content="article">
<meta property="og:title" content="Create your first voice bot for google assistant">
<meta property="og:url" content="https://twistedsoft.com/2017/04/01/google-home-bot/index.html">
<meta property="og:site_name" content="TwistedSoft">
<meta property="og:description" content="The idea of having a bot, who listens, understands and responds to your commands, is very intriguing. How about creating one yourself? It might sound daunting at first but it’s not that difficult in r">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.dropbox.com/s/u2y1119ids6jo3n/movie-suggester.png?raw=1">
<meta property="article:published_time" content="2017-04-01T12:30:00.000Z">
<meta property="article:modified_time" content="2020-05-31T11:42:41.269Z">
<meta property="article:author" content="Nishant Chaturvedi">
<meta property="article:tag" content="Bot">
<meta property="article:tag" content="Google Assistant">
<meta property="article:tag" content="Node.JS">
<meta property="article:tag" content="Voice Bot">
<meta property="article:tag" content="Google Actions">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.dropbox.com/s/u2y1119ids6jo3n/movie-suggester.png?raw=1">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Create your first voice bot for google assistant</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="TwistedSoft" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 4.2.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/05/17/react-ms-login/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/03/16/express-http2/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://twistedsoft.com/2017/04/01/google-home-bot/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://twistedsoft.com/2017/04/01/google-home-bot/&text=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://twistedsoft.com/2017/04/01/google-home-bot/&is_video=false&description=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Create your first voice bot for google assistant&body=Check out this article: https://twistedsoft.com/2017/04/01/google-home-bot/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://twistedsoft.com/2017/04/01/google-home-bot/&name=Create your first voice bot for google assistant&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://twistedsoft.com/2017/04/01/google-home-bot/&t=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Prerequisites"><span class="toc-number">1.</span> <span class="toc-text">Prerequisites</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setup"><span class="toc-number">2.</span> <span class="toc-text">Setup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-bot"><span class="toc-number">3.</span> <span class="toc-text">Creating the bot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Action-Package"><span class="toc-number">4.</span> <span class="toc-text">Action Package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Run-the-bot"><span class="toc-number">5.</span> <span class="toc-text">Run the bot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Test-the-bot"><span class="toc-number">6.</span> <span class="toc-text">Test the bot</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Create your first voice bot for google assistant
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">TwistedSoft</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-04-01T12:30:00.000Z" itemprop="datePublished">2017-04-01</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>The idea of having a bot, who listens, understands and responds to your commands, is very intriguing. How about creating one yourself? It might sound daunting at first but it’s not that difficult in reality. </p>
<p>In this post we will create a bot for <a href="https://developers.google.com/actions/" target="_blank">Google Assistant</a> which powers <code>Google Home</code>, <code>Google Now</code> and probably some other google products. To keep this post really short and easy to follow, I will not plug the <a href="https://en.wikipedia.org/wiki/Natural_language_processing" target="_blank">NLP</a> piece in our bot, which you might have to in case you decide to build a really intelligent bot. Our bot will suggest a movie to watch.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>Since we are building a bot for <code>Google Assistant</code>, you need a gmail account and you might also have to enable <code>Voice and Audio Activity</code> control for that account. In order to do that, head over to your <a href="https://myactivity.google.com" target="_blank">My Activity</a> control page and you will see an option for it.</p>
<p>Next thing you need is to have <code>Node.JS</code> installed in your system, since we will use <code>Node.JS</code> to build the bot.</p>
<p>In order to test our bot locally, we need a tunneling utility which makes our local server reachable from public internet. <a href="https://ngrok.com/" target="_blank">ngrock</a> is my favorite but you can also use <a href="https://localtunnel.github.io/www/" target="_blank">localtunnel</a> or somethign else you like. In case you have a dedicated server and you are planning to test your bot directly in the server then you can skip this.</p>
<p>With that covered let’s setup the project directory and dependencies.</p>
<h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><p>Create a directory with whatever name you like, I have named mine <code>movie-suggester</code>, yeah that’s how imaginative I am :). Next add <code>package.json</code> in it which looks like as shown below:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"movie-suggester"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"a bot talking about movies"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"nishant"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"actions-on-google"</span>: <span class="string">"^1.0.8"</span>,</span><br><span class="line">    <span class="attr">"body-parser"</span>: <span class="string">"^1.17.1"</span>,</span><br><span class="line">    <span class="attr">"express"</span>: <span class="string">"^4.15.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You can also generate this file for you simply by running <code>npm init</code> command.</p>
<p>As you can see we have <code>actions-on-google</code> as dependency, which is <code>Node.JS</code> sdk from Google to develop for Google Actions. The other two dependencies <code>express</code> and <code>body-parser</code> are to run the actual bot server. Simply run <code>npm install</code> from project’s root directory and it will bring all the dependencies to your system.</p>
<p>Next, go ahead and download <a href="https://developers.google.com/actions/tools/gactions-cli" target="_blank">gactions</a>, this is a standalone CLI utility which you will need to run and test the bot. After download copy this executable to the root directory of your project. You might also have to change the file mode using <code>chmod +x ./gactions</code> depending upon the development environment you are using.</p>
<h2 id="Creating-the-bot"><a href="#Creating-the-bot" class="headerlink" title="Creating the bot"></a>Creating the bot</h2><p>Finally after everything is in place we can write the code for the bot. Create <code>index.js</code> file in the root directory of your project and copy paste following code.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</span><br><span class="line"><span class="keyword">const</span> googleActions = <span class="built_in">require</span>(<span class="string">'actions-on-google'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ActionsSdkAssistant = googleActions.ActionsSdkAssistant;</span><br><span class="line"></span><br><span class="line"><span class="comment">//create an express app</span></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="comment">//setup bodyparser middleware to handle JSON and urlencoded post requests</span></span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line">app.use(bodyParser.json());</span><br><span class="line"></span><br><span class="line"><span class="comment">//this endpoint is really not needed, this is just to test if our server is accessible</span></span><br><span class="line">app.get(<span class="string">'/'</span>, (request, response) =&gt; &#123;</span><br><span class="line">    response.send(<span class="string">':)'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//this endpoint is where 'Google Assistant' is going to post messages whenever users interact with it.</span></span><br><span class="line">app.post(<span class="string">'/'</span>, (request, response) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> assistant = <span class="keyword">new</span> ActionsSdkAssistant(&#123; request, response &#125;);</span><br><span class="line">    <span class="keyword">const</span> actionsMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    actionsMap.set(assistant.StandardIntents.MAIN, mainHandler);</span><br><span class="line">    actionsMap.set(assistant.StandardIntents.TEXT, rawInput);</span><br><span class="line"></span><br><span class="line">    assistant.handleRequest(actionsMap);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//start the server to listen on port 3300</span></span><br><span class="line">app.listen(<span class="number">3300</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'app started listening on port'</span>, <span class="number">3300</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//this is the trigger handler which will be called when a user asks google assistant 'talk to movie teller'</span></span><br><span class="line"><span class="keyword">let</span> mainHandler = <span class="function"><span class="keyword">function</span> (<span class="params">assistant</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> inputPrompt = assistant.buildInputPrompt(<span class="literal">false</span>, <span class="string">`Welcome, what can I do for you?`</span>, [<span class="string">'say something'</span>]);</span><br><span class="line">    assistant.ask(inputPrompt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//this handler get's called for all the subsequent interactions with google assistant after user is connected to the bot</span></span><br><span class="line"><span class="comment">//this is where we can place all the logic to make the bot respond to user queries</span></span><br><span class="line"><span class="keyword">let</span> rawInput = <span class="function"><span class="keyword">function</span> (<span class="params">assistant</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> rawInput = assistant.getRawInput();</span><br><span class="line">    <span class="keyword">if</span> (rawInput === <span class="string">'bye'</span>) &#123;</span><br><span class="line">        assistant.tell(<span class="string">'GoodBye'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rawInput.toLowerCase().trim() === <span class="string">'suggest me a movie'</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> movies = [<span class="string">'Logan'</span>, <span class="string">'Split'</span>, <span class="string">'John Wick Chapter 2'</span>, <span class="string">'Rogue One A Star Wars Story'</span>];</span><br><span class="line">        <span class="keyword">let</span> inputPrompt = assistant.buildInputPrompt(<span class="literal">false</span>, <span class="string">`sure, go ahead and watch the movie titled <span class="subst">$&#123;movies[<span class="built_in">Math</span>.floor(<span class="number">4</span> * <span class="built_in">Math</span>.random())]&#125;</span>, it's fantastic. Enjoy`</span>);</span><br><span class="line">        assistant.ask(inputPrompt);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> inputPrompt = assistant.buildInputPrompt(<span class="literal">false</span>, <span class="string">`you said <span class="subst">$&#123;rawInput&#125;</span>`</span>);</span><br><span class="line">        assistant.ask(inputPrompt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>above code is mostly self explanatory, the only part which requires a bit further discussion is <code>POST</code> request handler. We create an instance of <code>ActionsSdkAssistant</code> passing <code>request</code> and <code>response</code> as option parameters and then we call it’s <code>handleRequest</code> method passing it a map of ‘intents’ vs ‘handlers’.</p>
<p>Intents in general represent the intension of a user interaction, for example when a user says ‘talk to movie suggester’, our bot is notified with <code>assistant.StandardIntents.MAIN</code> intent and we can choose to respond the way we like. After the user is connected to the bot, Google Assistant notifies our bot with <code>assistant.StandardIntents.TEXT</code> intent for all subsequent user interanctions.</p>
<p>Once inside an intent handler, we can get the raw speech of the user by <code>assistant.getRawInput()</code> which gives us the transcript of the users speech. At this point we can decide how the bot should repond.</p>
<p>Google Actions provides <a href="https://developers.google.com/actions/reference/ssml" target="_blank">SSML</a> xml like markup language to facilitate speech construction. It’s pretty extensive, do check it out.</p>
<p>Start the server using <code>node index.js</code> command. At this point you should have the server running on port 3300. Test it by simply hitting the <code>http://localhost:3300</code> url. You should see a “:)”.</p>
<h2 id="Action-Package"><a href="#Action-Package" class="headerlink" title="Action Package"></a>Action Package</h2><p>In order to connect our bot to Google Assistant, we need to create action package, which is a file named <code>action.json</code>. Being inside the project’s root directory, run <code>./gactions init</code> command this will create the action package file for you. Now change the file content as shown below:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"versionLabel"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="attr">"agentInfo"</span>: &#123;</span><br><span class="line">    <span class="attr">"languageCode"</span>: <span class="string">"en-US"</span>,</span><br><span class="line">    <span class="attr">"projectId"</span>: <span class="string">"&lt;INSERT YOUR PROJECT ID HERE&gt;"</span>,</span><br><span class="line">    <span class="attr">"voiceName"</span>: <span class="string">"male_1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"actions"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Launch intent"</span>,</span><br><span class="line">      <span class="attr">"initialTrigger"</span>: &#123;</span><br><span class="line">        <span class="attr">"intent"</span>: <span class="string">"assistant.intent.action.MAIN"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"httpExecution"</span>: &#123;</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"&lt;ngrock url or your server url&gt;"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>the one setting you definitely need to change in the action.json file is httpExecution url. Since our express server is running locally on port 3300 run <code>ngrock http 3300</code> command which will give you one time public urls for http and https both. Copy the https version of the url and update the action.json file with it.</p>
<p>we are all set to run the bot now, at this point following is how my project directory structure looks like:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|-- action.json</span><br><span class="line">|-- index.js</span><br><span class="line">|-- gactions</span><br><span class="line">|-- package.json</span><br></pre></td></tr></table></figure>

<h2 id="Run-the-bot"><a href="#Run-the-bot" class="headerlink" title="Run the bot"></a>Run the bot</h2><p>You can start the bot using following command:</p>
<p><code>gactions preview --action_package=action.json --invocation_name=&quot;movie suggester&quot;</code></p>
<p>running the above command will present you with a one time url and prompt you to enter the authorization code. Navigate to the url and finish oauth steps, you will receive a authorization code in your browser window, copy the code and pass it to the prompt. If everything went well so far, then you are ready to test the bot.</p>
<h2 id="Test-the-bot"><a href="#Test-the-bot" class="headerlink" title="Test the bot"></a>Test the bot</h2><p>There are two ways you can test the bot, either via command line using <code>gactions simulate</code> or via <a href="https://developers.google.com/actions/tools/web-simulator" target="_blank">Actions Web Simulator</a>. I will test it using web simulator because that’s fun, so start by typing or speaking ‘talk to movie suggester’, after you get the welcome message, you can ask ‘suggest me a movie’, and the bot should suggest you a movie as shown below.</p>
<p><img src="https://www.dropbox.com/s/u2y1119ids6jo3n/movie-suggester.png?raw=1" alt="movie suggester"></p>
<p>That’s it, there you have it, a bot which talks to you.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Prerequisites"><span class="toc-number">1.</span> <span class="toc-text">Prerequisites</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setup"><span class="toc-number">2.</span> <span class="toc-text">Setup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-bot"><span class="toc-number">3.</span> <span class="toc-text">Creating the bot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Action-Package"><span class="toc-number">4.</span> <span class="toc-text">Action Package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Run-the-bot"><span class="toc-number">5.</span> <span class="toc-text">Run the bot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Test-the-bot"><span class="toc-number">6.</span> <span class="toc-text">Test the bot</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://twistedsoft.com/2017/04/01/google-home-bot/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://twistedsoft.com/2017/04/01/google-home-bot/&text=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://twistedsoft.com/2017/04/01/google-home-bot/&is_video=false&description=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Create your first voice bot for google assistant&body=Check out this article: https://twistedsoft.com/2017/04/01/google-home-bot/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://twistedsoft.com/2017/04/01/google-home-bot/&title=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://twistedsoft.com/2017/04/01/google-home-bot/&name=Create your first voice bot for google assistant&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://twistedsoft.com/2017/04/01/google-home-bot/&t=Create your first voice bot for google assistant" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2015-2020
    Nishant Chaturvedi
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
